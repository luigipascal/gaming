<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ Chess Basics - Learn the Fundamentals!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 3em;
            color: #4a5568;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .back-btn {
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            border: none;
            padding: 15px 25px;
            border-radius: 30px;
            color: white;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
        }

        .back-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .content-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.6s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .content-section h2 {
            color: #2d3436;
            font-size: 2.2em;
            margin-bottom: 20px;
            border-bottom: 3px solid #74b9ff;
            padding-bottom: 10px;
        }

        .story-box {
            background: linear-gradient(135deg, #ffeaa7, #fab1a0);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #e17055;
        }

        .story-box h3 {
            color: #2d3436;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .fact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .fact-card {
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .fact-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .fact-card .emoji {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .fact-card h4 {
            color: #2d3436;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .interactive-timeline {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin: 25px 0;
        }

        .timeline-item {
            display: flex;
            align-items: center;
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .timeline-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(10px);
        }

        .timeline-year {
            font-size: 2em;
            font-weight: bold;
            margin-right: 20px;
            min-width: 100px;
        }

        .quiz-mini {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
        }

        .quiz-mini h3 {
            color: white;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .quiz-question {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-question:hover {
            background: rgba(255, 255, 255, 1);
            transform: scale(1.02);
        }

        .quiz-question.correct {
            background: #d4edda;
            border: 3px solid #28a745;
        }

        .quiz-question.incorrect {
            background: #f8d7da;
            border: 3px solid #dc3545;
        }

        .goal-section {
            background: linear-gradient(135deg, #00b894, #00cec9);
            color: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            margin: 25px 0;
        }

        .goal-section h3 {
            font-size: 2em;
            margin-bottom: 20px;
        }

        .goal-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .goal-step {
            background: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 15px;
            transition: all 0.3s ease;
        }

        .goal-step:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-5px);
        }

        .goal-step .step-number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .progress-tracker {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 15px;
            margin: 25px 0;
            text-align: center;
        }

        .progress-bar {
            background: #e9ecef;
            height: 25px;
            border-radius: 12px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill {
            background: linear-gradient(90deg, #28a745, #20c997);
            height: 100%;
            border-radius: 12px;
            transition: width 0.8s ease;
            width: 0%;
        }

        .celebration {
            text-align: center;
            font-size: 2em;
            margin: 20px 0;
            opacity: 0;
            transition: all 0.5s ease;
        }

        .celebration.show {
            opacity: 1;
            animation: bounce 1s ease-in-out;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }

        /* Updated video section styles */
        .video-section {
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin: 25px 0;
            text-align: center;
        }

        .video-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .animated-chessboard {
            display: grid;
            grid-template-columns: repeat(8, 40px);
            grid-template-rows: repeat(8, 40px);
            gap: 2px;
            margin: 20px auto;
            justify-content: center;
            border: 3px solid #fff;
            border-radius: 10px;
            padding: 10px;
            background: #8b4513;
        }

        .chess-square {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            border-radius: 3px;
            transition: all 0.5s ease;
        }

        .white-square {
            background: #f0d9b5;
        }

        .black-square {
            background: #b58863;
        }

        .chess-square:hover {
            transform: scale(1.2);
            z-index: 10;
            position: relative;
        }

        .piece-intro {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .piece-intro.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .play-button {
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            color: white;
            font-weight: bold;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px 10px;
        }

        .play-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2em;
            }
            
            .fact-grid {
                grid-template-columns: 1fr;
            }
            
            .timeline-item {
                flex-direction: column;
                text-align: center;
            }
            
            .timeline-year {
                margin-right: 0;
                margin-bottom: 10px;
            }

            .animated-chessboard {
                grid-template-columns: repeat(8, 30px);
                grid-template-rows: repeat(8, 30px);
            }

            .chess-square {
                width: 30px;
                height: 30px;
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <button class="back-btn" onclick="goBack()">‚¨ÖÔ∏è Back to Chess Kingdom</button>
        
        <div class="header">
            <h1>üéØ Chess Basics: Your Royal Journey Begins!</h1>
            <p style="font-size: 1.2em; color: #666;">Master the fundamentals and become a chess champion!</p>
        </div>

        <div class="content-section">
            <h2>üè∞ What is Chess? The Royal Battle!</h2>
            <div class="story-box">
                <h3>üìö The Chess Story</h3>
                <p style="font-size: 1.1em; line-height: 1.6;">
                    Imagine you're the ruler of a magical kingdom! Chess is like commanding two armies in an epic battle. 
                    You have brave soldiers (pawns), mighty horses (knights), powerful wizards (bishops), strong castles (rooks), 
                    a wise queen, and most importantly - YOU are the king! Your mission is to protect your king while trying 
                    to capture the enemy king. It's like being the hero in your own adventure story!
                </p>
            </div>

            <!-- Fixed Video Section -->
            <div class="video-section">
                <h3>üé¨ Welcome to Chess Kingdom!</h3>
                <p>Watch the pieces come to life in this interactive introduction!</p>
                
                <div class="video-container">
                    <div class="animated-chessboard" id="chessboard"></div>
                    
                    <div class="piece-intro" id="piece-king">
                        <h4>üëë Meet the King!</h4>
                        <p>The most important piece! Protect him at all costs!</p>
                    </div>
                    
                    <div class="piece-intro" id="piece-queen">
                        <h4>üë∏ Meet the Queen!</h4>
                        <p>The most powerful piece! She can move in any direction!</p>
                    </div>
                    
                    <div class="piece-intro" id="piece-rook">
                        <h4>üè∞ Meet the Rook!</h4>
                        <p>The castle piece! Strong and sturdy, moves in straight lines!</p>
                    </div>
                    
                    <div class="piece-intro" id="piece-bishop">
                        <h4>‚õ™ Meet the Bishop!</h4>
                        <p>The diagonal mover! Slides across the board at angles!</p>
                    </div>
                    
                    <div class="piece-intro" id="piece-knight">
                        <h4>üêé Meet the Knight!</h4>
                        <p>The jumping horse! Only piece that can jump over others!</p>
                    </div>
                    
                    <div class="piece-intro" id="piece-pawn">
                        <h4>‚öîÔ∏è Meet the Pawns!</h4>
                        <p>The brave soldiers! Small but mighty when they work together!</p>
                    </div>
                </div>
                
                <button class="play-button" onclick="startChessIntro()">‚ñ∂Ô∏è Start the Show!</button>
                <button class="play-button" onclick="resetChessboard()">üîÑ Watch Again</button>
            </div>
        </div>

        <div class="content-section">
            <h2>üåç Amazing Chess Facts That Will Blow Your Mind!</h2>
            <div class="fact-grid">
                <div class="fact-card" onclick="showFactDetail(1)">
                    <div class="emoji">üï∞Ô∏è</div>
                    <h4>Ancient Game</h4>
                    <p>Chess is over 1,500 years old! It started in India and traveled the world like a magical spell!</p>
                </div>
                
                <div class="fact-card" onclick="showFactDetail(2)">
                    <div class="emoji">üåå</div>
                    <h4>Infinite Possibilities</h4>
                    <p>There are more possible chess games than atoms in the observable universe!</p>
                </div>
                
                <div class="fact-card" onclick="showFactDetail(3)">
                    <div class="emoji">üëë</div>
                    <h4>Royal Origins</h4>
                    <p>"Checkmate" comes from Persian "Shah Mat" meaning "the king is dead!"</p>
                </div>
                
                <div class="fact-card" onclick="showFactDetail(4)">
                    <div class="emoji">üèÉ‚Äç‚ôÇÔ∏è</div>
                    <h4>Speed Chess</h4>
                    <p>The fastest chess game ever played lasted only 2 moves! (But don't try that at home!)</p>
                </div>
                
                <div class="fact-card" onclick="showFactDetail(5)">
                    <div class="emoji">üß†</div>
                    <h4>Brain Power</h4>
                    <p>Playing chess makes both sides of your brain work together like a super team!</p>
                </div>
                
                <div class="fact-card" onclick="showFactDetail(6)">
                    <div class="emoji">üé≠</div>
                    <h4>Famous Players</h4>
                    <p>Even famous people like Napoleon, Benjamin Franklin, and Einstein loved chess!</p>
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>üìñ The Epic Journey of Chess Through Time</h2>
            <div class="interactive-timeline">
                <h3 style="text-align: center; margin-bottom: 25px;">üï∞Ô∏è Chess Time Machine</h3>
                
                <div class="timeline-item" onclick="showTimelineDetail('ancient')">
                    <div class="timeline-year">500 AD</div>
                    <div>
                        <h4>üèõÔ∏è Ancient India</h4>
                        <p>Chess begins as "Chaturanga" - the game of four armies!</p>
                    </div>
                </div>
                
                <div class="timeline-item" onclick="showTimelineDetail('persia')">
                    <div class="timeline-year">600 AD</div>
                    <div>
                        <h4>üïå Persian Empire</h4>
                        <p>The game becomes "Shatranj" and spreads across the empire!</p>
                    </div>
                </div>
                
                <div class="timeline-item" onclick="showTimelineDetail('europe')">
                    <div class="timeline-year">1000 AD</div>
                    <div>
                        <h4>üè∞ Medieval Europe</h4>
                        <p>Chess arrives in Europe and becomes the "Game of Kings!"</p>
                    </div>
                </div>
                
                <div class="timeline-item" onclick="showTimelineDetail('modern')">
                    <div class="timeline-year">1475</div>
                    <div>
                        <h4>üë∏ Modern Chess</h4>
                        <p>The Queen becomes the most powerful piece - girl power!</p>
                    </div>
                </div>
                
                <div class="timeline-item" onclick="showTimelineDetail('world')">
                    <div class="timeline-year">1886</div>
                    <div>
                        <h4>üèÜ World Championship</h4>
                        <p>The first official World Chess Championship begins!</p>
                    </div>
                </div>
                
                <div class="timeline-item" onclick="showTimelineDetail('computer')">
                    <div class="timeline-year">1997</div>
                    <div>
                        <h4>ü§ñ Computer Age</h4>
                        <p>Deep Blue computer beats world champion - technology wins!</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>üéØ The Ultimate Goal: Checkmate!</h2>
            <div class="goal-section">
                <h3>üèÖ How to Win at Chess</h3>
                <p style="font-size: 1.1em; margin-bottom: 20px;">
                    Your mission, should you choose to accept it, is to trap the enemy king so it cannot escape - this is called CHECKMATE!
                </p>
                
                <div class="goal-steps">
                    <div class="goal-step">
                        <div class="step-number">1Ô∏è‚É£</div>
                        <h4>Attack</h4>
                        <p>Move your pieces to threaten the enemy king</p>
                    </div>
                    
                    <div class="goal-step">
                        <div class="step-number">2Ô∏è‚É£</div>
                        <h4>Check</h4>
                        <p>Put the king in immediate danger - say "Check!"</p>
                    </div>
                    
                    <div class="goal-step">
                        <div class="step-number">3Ô∏è‚É£</div>
                        <h4>Trap</h4>
                        <p>Make sure the king has no escape squares</p>
                    </div>
                    
                    <div class="goal-step">
                        <div class="step-number">4Ô∏è‚É£</div>
                        <h4>Victory!</h4>
                        <p>Shout "Checkmate!" and celebrate your win!</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>üß† Quick Knowledge Check!</h2>
            <div class="quiz-mini">
                <h3>üé™ Test Your Chess Facts!</h3>
                
                <div class="quiz-question" onclick="checkQuizAnswer(this, true)">
                    <strong>True or False:</strong> Chess is older than 1,000 years old?
                    <div style="margin-top: 10px; font-size: 0.9em; color: #666;">(Click to answer!)</div>
                </div>
                
                <div class="quiz-question" onclick="checkQuizAnswer(this, false)">
                    <strong>True or False:</strong> The goal of chess is to capture all the enemy pieces?
                    <div style="margin-top: 10px; font-size: 0.9em; color: #666;">(Click to answer!)</div>
                </div>
                
                <div class="quiz-question" onclick="checkQuizAnswer(this, true)">
                    <strong>True or False:</strong> "Checkmate" means the king is trapped and cannot escape?
                    <div style="margin-top: 10px; font-size: 0.9em; color: #666;">(Click to answer!)</div>
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>üåü Why Learn Chess? The Super Benefits!</h2>
            <div class="fact-grid">
                <div class="fact-card">
                    <div class="emoji">üß†</div>
                    <h4>Brain Boost</h4>
                    <p>Chess makes you smarter by exercising both sides of your brain!</p>
                </div>
                
                <div class="fact-card">
                    <div class="emoji">üîÆ</div>
                    <h4>Future Vision</h4>
                    <p>Learn to think ahead and predict what might happen next!</p>
                </div>
                
                <div class="fact-card">
                    <div class="emoji">üéØ</div>
                    <h4>Focus Power</h4>
                    <p>Improve your concentration and attention to detail!</p>
                </div>
                
                <div class="fact-card">
                    <div class="emoji">ü§ù</div>
                    <h4>Make Friends</h4>
                    <p>Join chess clubs and meet awesome people who love the game!</p>
                </div>
                
                <div class="fact-card">
                    <div class="emoji">üò§</div>
                    <h4>Stay Calm</h4>
                    <p>Learn patience and how to handle pressure like a champion!</p>
                </div>
                
                <div class="fact-card">
                    <div class="emoji">üèÜ</div>
                    <h4>Win Trophies</h4>
                    <p>Compete in tournaments and maybe become a chess champion!</p>
                </div>
            </div>
        </div>

        <div class="progress-tracker">
            <h3>üéñÔ∏è Your Chess Learning Progress</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <p id="progressText">Basics Mastery: 0%</p>
            <button onclick="completeBasics()" class="back-btn" style="margin-top: 15px;">‚úÖ I've Mastered the Basics!</button>
        </div>

        <div class="celebration" id="celebration"></div>
    </div>

    <script>
        let factsRead = new Set();
        let timelineExplored = new Set();
        let quizAnswered = new Set();
        let videosWatched = new Set();
        let chessIntroActive = false;

        function goBack() {
            window.history.back();
        }

        // Enhanced chess board animation
        function createChessboard() {
            const chessboard = document.getElementById('chessboard');
            chessboard.innerHTML = '';
            
            const initialPosition = {
                '0,0': '‚ôú', '0,1': '‚ôû', '0,2': '‚ôù', '0,3': '‚ôõ', '0,4': '‚ôö', '0,5': '‚ôù', '0,6': '‚ôû', '0,7': '‚ôú',
                '1,0': '‚ôü', '1,1': '‚ôü', '1,2': '‚ôü', '1,3': '‚ôü', '1,4': '‚ôü', '1,5': '‚ôü', '1,6': '‚ôü', '1,7': '‚ôü',
                '6,0': '‚ôô', '6,1': '‚ôô', '6,2': '‚ôô', '6,3': '‚ôô', '6,4': '‚ôô', '6,5': '‚ôô', '6,6': '‚ôô', '6,7': '‚ôô',
                '7,0': '‚ôñ', '7,1': '‚ôò', '7,2': '‚ôó', '7,3': '‚ôï', '7,4': '‚ôî', '7,5': '‚ôó', '7,6': '‚ôò', '7,7': '‚ôñ'
            };
            
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const square = document.createElement('div');
                    square.className = `chess-square ${(row + col) % 2 === 0 ? 'white-square' : 'black-square'}`;
                    square.id = `square-${row}-${col}`;
                    
                    const piece = initialPosition[`${row},${col}`];
                    if (piece) {
                        square.textContent = piece;
                        square.onclick = () => introducePiece(piece, square);
                    }
                    
                    chessboard.appendChild(square);
                }
            }
        }

        function introducePiece(piece, square) {
            // Hide all piece intros
            document.querySelectorAll('.piece-intro').forEach(intro => {
                intro.classList.remove('active');
            });
            
            // Highlight the clicked piece
            document.querySelectorAll('.chess-square').forEach(sq => {
                sq.style.boxShadow = '';
            });
            square.style.boxShadow = '0 0 20px #ffd93d';
            
            // Show appropriate intro
            let introId = '';
            switch(piece) {
                case '‚ôî':
                case '‚ôö':
                    introId = 'piece-king';
                    break;
                case '‚ôï':
                case '‚ôõ':
                    introId = 'piece-queen';
                    break;
                case '‚ôñ':
                case '‚ôú':
                    introId = 'piece-rook';
                    break;
                case '‚ôó':
                case '‚ôù':
                    introId = 'piece-bishop';
                    break;
                case '‚ôò':
                case '‚ôû':
                    introId = 'piece-knight';
                    break;
                case '‚ôô':
                case '‚ôü':
                    introId = 'piece-pawn';
                    break;
            }
            
            if (introId) {
                document.getElementById(introId).classList.add('active');
            }
        }

        function startChessIntro() {
            videosWatched.add('intro');
            updateProgress();
            chessIntroActive = true;
            
            showCelebration('üé¨ Welcome to the magical world of chess! Click on any piece to learn about it!');
            
            // Animate pieces appearing
            const squares = document.querySelectorAll('.chess-square');
            squares.forEach((square, index) => {
                setTimeout(() => {
                    square.style.transform = 'scale(1.2)';
                    setTimeout(() => {
                        square.style.transform = 'scale(1)';
                    }, 200);
                }, index * 50);
            });
        }

        function resetChessboard() {
            createChessboard();
            document.querySelectorAll('.piece-intro').forEach(intro => {
                intro.classList.remove('active');
            });
            showCelebration('üîÑ Chessboard reset! Click "Start the Show!" to begin again!');
        }

        function showFactDetail(factNumber) {
            factsRead.add(factNumber);
            updateProgress();
            
            const facts = {
                1: "Chess evolved from an ancient Indian game called Chaturanga, which means 'four divisions' representing infantry, cavalry, elephants, and chariots - the four parts of an ancient army!",
                2: "Shannon's number estimates there are 10^120 possible chess games, while there are only about 10^80 atoms in the observable universe. That means chess has more possibilities than we can imagine!",
                3: "The term comes from the Persian 'Shah Mat' which literally means 'the king is dead.' When chess spread to different countries, this phrase evolved into 'checkmate.'",
                4: "The shortest possible chess game is called 'Fool's Mate' and can happen in just 2 moves if someone makes really bad moves. But don't worry - this almost never happens in real games!",
                5: "Studies show chess activates both the left side (logic) and right side (pattern recognition) of your brain, making it one of the best mental exercises!",
                6: "Throughout history, many brilliant minds loved chess, including Albert Einstein, who said 'Chess holds its master in its own bonds, shackling the mind and brain so that the inner freedom is lost.'"
            };
            
            showCelebration(`üéâ Cool Fact! ${facts[factNumber]}`);
        }

        function showTimelineDetail(period) {
            timelineExplored.add(period);
            updateProgress();
            
            const details = {
                ancient: "In ancient India, chess was called Chaturanga and represented a real battle with four types of pieces: infantry (pawns), cavalry (knights), elephants (bishops), and chariots (rooks)!",
                persia: "The Persians loved chess so much they made it part of royal education. Every prince had to learn chess, poetry, and horsemanship!",
                europe: "Medieval Europeans changed the elephant piece into a bishop and made chess a symbol of royal power. Knights would play chess to prepare for real battles!",
                modern: "In 1475, the Queen became super powerful! Before this, she could only move one square diagonally. This change made chess faster and more exciting!",
                world: "Wilhelm Steinitz became the first official World Champion in 1886. Since then, only 16 people have held this ultimate chess title!",
                computer: "When IBM's Deep Blue beat world champion Garry Kasparov in 1997, it was like robots vs humans in real life! Today, computers are chess teachers helping humans get better!"
            };
            
            showCelebration(`üï∞Ô∏è Time Travel! ${details[period]}`);
        }

        function checkQuizAnswer(element, isCorrect) {
            if (element.classList.contains('correct') || element.classList.contains('incorrect')) {
                return; // Already answered
            }
            
            quizAnswered.add(element);
            updateProgress();
            
            if (isCorrect) {
                element.classList.add('correct');
                element.innerHTML += '<div style="margin-top: 10px; color: #28a745; font-weight: bold;">‚úÖ Correct! Great job!</div>';
                showCelebration('üéâ Right answer! You\'re learning fast!');
            } else {
                element.classList.add('incorrect');
                if (element.textContent.includes('capture all')) {
                    element.innerHTML += '<div style="margin-top: 10px; color: #dc3545; font-weight: bold;">‚ùå Not quite! The goal is to checkmate the king, not capture all pieces!</div>';
                } else {
                    element.innerHTML += '<div style="margin-top: 10px; color: #dc3545; font-weight: bold;">‚ùå Not quite! Try reading the facts again!</div>';
                }
            }
        }

        function updateProgress() {
            const totalItems = 6 + 6 + 3 + 1; // facts + timeline + quiz + video
            const completedItems = factsRead.size + timelineExplored.size + quizAnswered.size + videosWatched.size;
            const progress = Math.round((completedItems / totalItems) * 100);
            
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `Basics Mastery: ${progress}%`;
            
            // Save progress to memory
            saveProgress();
        }

        function saveProgress() {
            // Store progress in memory (since localStorage isn't available)
            window.chessProgress = window.chessProgress || {};
            window.chessProgress.basics = {
                factsRead: Array.from(factsRead),
                timelineExplored: Array.from(timelineExplored),
                quizAnswered: Array.from(quizAnswered).map(q => q.textContent),
                videosWatched: Array.from(videosWatched),
                completedAt: new Date().toISOString()
            };
        }

        function loadProgress() {
            // Load progress from memory if available
            if (window.chessProgress && window.chessProgress.basics) {
                const saved = window.chessProgress.basics;
                
                // Restore sets
                factsRead = new Set(saved.factsRead || []);
                timelineExplored = new Set(saved.timelineExplored || []);
                videosWatched = new Set(saved.videosWatched || []);
                
                // Restore quiz answers (this is more complex, so we'll just track count)
                if (saved.quizAnswered && saved.quizAnswered.length > 0) {
                    // Add placeholder items to track quiz completion
                    for (let i = 0; i < saved.quizAnswered.length; i++) {
                        quizAnswered.add(`quiz-${i}`);
                    }
                }
                
                updateProgress();
            }
        }

        function completeBasics() {
            // Save completion status
            saveProgress();
            
            showCelebration('üèÜ Congratulations! You\'ve mastered Chess Basics! Ready for the next adventure?');
            
            // Add confetti effect
            for (let i = 0; i < 30; i++) {
                createConfetti();
            }
            
            setTimeout(() => {
                if (confirm('üéØ Ready to meet the chess pieces? Click OK to continue your journey!')) {
                    // Navigate to pieces page (you can update this path as needed)
                    window.location.href = 'pieces.html';
                }
            }, 2000);
        }

        function showCelebration(message) {
            const celebration = document.getElementById('celebration');
            celebration.textContent = message;
            celebration.classList.add('show');
            
            setTimeout(() => {
                celebration.classList.remove('show');
            }, 4000);
        }

        function createConfetti() {
            const confetti = document.createElement('div');
            confetti.textContent = ['üéâ', 'üéä', '‚≠ê', 'üèÜ', 'üëë', '‚ôüÔ∏è'][Math.floor(Math.random() * 6)];
            confetti.style.position = 'fixed';
            confetti.style.fontSize = '25px';
            confetti.style.left = Math.random() * window.innerWidth + 'px';
            confetti.style.top = '-50px';
            confetti.style.zIndex = '1000';
            confetti.style.pointerEvents = 'none';
            
            document.body.appendChild(confetti);
            
            const animation = confetti.animate([
                { transform: 'translateY(-50px) rotate(0deg)', opacity: 1 },
                { transform: `translateY(${window.innerHeight + 50}px) rotate(360deg)`, opacity: 0 }
            ], {
                duration: 2000 + Math.random() * 1000,
                easing: 'ease-out'
            });
            
            animation.onfinish = () => {
                confetti.remove();
            };
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadProgress(); // Load saved progress first
            createChessboard();
            showCelebration('üéØ Welcome to Chess Basics! Explore everything to become a chess expert!');
        });
    </script>
</body>
</html>