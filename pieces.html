<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>♟️ Meet the Chess Pieces - Your Royal Army!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 3em;
            color: #4a5568;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .back-btn {
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            border: none;
            padding: 15px 25px;
            border-radius: 30px;
            color: white;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
        }

        .back-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .army-overview {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            margin: 30px 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .army-overview h2 {
            text-align: center;
            color: #2d3436;
            font-size: 2.5em;
            margin-bottom: 25px;
        }

        .army-formation {
            display: grid;
            grid-template-columns: repeat(8, 50px);
            gap: 3px;
            margin: 20px auto;
            justify-content: center;
            background: #8b4513;
            padding: 15px;
            border-radius: 10px;
        }

        .formation-square {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .formation-square.white {
            background: #f0d9b5;
        }

        .formation-square.black {
            background: #b58863;
        }

        .formation-square:hover {
            transform: scale(1.1);
            z-index: 10;
            border-radius: 8px;
        }

        .interactive-demo {
            background: rgba(255, 255, 255, 0.9);
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: center;
        }

        .demo-btn {
            background: linear-gradient(45deg, #00b894, #00cec9);
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .demo-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .demo-btn.active {
            background: linear-gradient(45deg, #e17055, #fdcb6e);
        }

        .movement-board {
            display: grid;
            grid-template-columns: repeat(8, 40px);
            grid-template-rows: repeat(8, 40px);
            gap: 1px;
            margin: 20px auto;
            justify-content: center;
            background: #8b4513;
            border-radius: 8px;
            padding: 10px;
        }

        .mini-square {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            border-radius: 2px;
            transition: all 0.3s ease;
        }

        .mini-square.white {
            background: #f0d9b5;
        }

        .mini-square.black {
            background: #b58863;
        }

        .mini-square.highlight {
            background: #ffeb3b !important;
            animation: pulse 1s infinite;
        }

        .mini-square.piece-position {
            background: #4caf50 !important;
            color: white;
            font-weight: bold;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .piece-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .piece-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.4s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .piece-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }

        .piece-card.active {
            border: 4px solid #74b9ff;
            background: linear-gradient(135deg, #fff, #e8f4fd);
        }

        .piece-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .piece-emoji {
            font-size: 5em;
            margin-bottom: 15px;
            display: block;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.2);
        }

        .piece-name {
            font-size: 2.2em;
            color: #2d3436;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .piece-subtitle {
            font-size: 1.1em;
            color: #636e72;
            font-style: italic;
        }

        .piece-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .stat {
            background: linear-gradient(135deg, #ffeaa7, #fab1a0);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
        }

        .stat-label {
            font-size: 0.9em;
            color: #2d3436;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.3em;
            color: #e17055;
            font-weight: bold;
        }

        .piece-story {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .piece-story h4 {
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .special-abilities {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .special-abilities h4 {
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .ability-list {
            list-style: none;
            padding: 0;
        }

        .ability-list li {
            margin: 8px 0;
            padding-left: 25px;
            position: relative;
        }

        .ability-list li:before {
            content: "⭐";
            position: absolute;
            left: 0;
        }

        .movement-demo {
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .movement-demo h4 {
            color: #2d3436;
            margin-bottom: 15px;
            font-size: 1.3em;
            text-align: center;
        }

        .quiz-section {
            background: linear-gradient(135deg, #00b894, #00cec9);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin: 30px 0;
        }

        .quiz-group {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .quiz-question-text {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }

        .quiz-option {
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .quiz-option:hover {
            background: rgba(255, 255, 255, 1);
            transform: scale(1.02);
        }

        .quiz-option.correct {
            background: #d4edda;
            border: 3px solid #28a745;
        }

        .quiz-option.incorrect {
            background: #f8d7da;
            border: 3px solid #dc3545;
        }

        .quiz-option.disabled {
            opacity: 0.6;
            cursor: not-allowed;
            pointer-events: none;
        }

        .celebration {
            text-align: center;
            font-size: 2em;
            margin: 20px 0;
            opacity: 0;
            transition: all 0.5s ease;
        }

        .celebration.show {
            opacity: 1;
            animation: bounce 1s ease-in-out;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2em;
            }
            
            .piece-grid {
                grid-template-columns: 1fr;
            }
            
            .piece-stats {
                grid-template-columns: 1fr;
            }
            
            .army-formation {
                grid-template-columns: repeat(8, 40px);
            }
            
            .formation-square {
                width: 40px;
                height: 40px;
                font-size: 24px;
            }

            .movement-board {
                grid-template-columns: repeat(8, 30px);
                grid-template-rows: repeat(8, 30px);
            }

            .mini-square {
                width: 30px;
                height: 30px;
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <button class="back-btn" onclick="goBack()">⬅️ Back to Chess Kingdom</button>
        
        <div class="header">
            <h1>♟️ Meet Your Royal Chess Army!</h1>
            <p style="font-size: 1.2em; color: #666;">Get to know each piece and their amazing powers!</p>
        </div>

        <div class="army-overview">
            <h2>🏰 Your Complete Army Formation</h2>
            <p style="text-align: center; font-size: 1.1em; margin-bottom: 20px;">
                Click on any piece to learn about them! This is how your army starts the battle:
            </p>
            
            <div class="army-formation">
                <div class="formation-square black" onclick="selectPiece('rook')" data-piece="rook">♜</div>
                <div class="formation-square white" onclick="selectPiece('knight')" data-piece="knight">♞</div>
                <div class="formation-square black" onclick="selectPiece('bishop')" data-piece="bishop">♝</div>
                <div class="formation-square white" onclick="selectPiece('queen')" data-piece="queen">♛</div>
                <div class="formation-square black" onclick="selectPiece('king')" data-piece="king">♚</div>
                <div class="formation-square white" onclick="selectPiece('bishop')" data-piece="bishop">♝</div>
                <div class="formation-square black" onclick="selectPiece('knight')" data-piece="knight">♞</div>
                <div class="formation-square white" onclick="selectPiece('rook')" data-piece="rook">♜</div>
                
                <div class="formation-square white" onclick="selectPiece('pawn')" data-piece="pawn">♟</div>
                <div class="formation-square black" onclick="selectPiece('pawn')" data-piece="pawn">♟</div>
                <div class="formation-square white" onclick="selectPiece('pawn')" data-piece="pawn">♟</div>
                <div class="formation-square black" onclick="selectPiece('pawn')" data-piece="pawn">♟</div>
                <div class="formation-square white" onclick="selectPiece('pawn')" data-piece="pawn">♟</div>
                <div class="formation-square black" onclick="selectPiece('pawn')" data-piece="pawn">♟</div>
                <div class="formation-square white" onclick="selectPiece('pawn')" data-piece="pawn">♟</div>
                <div class="formation-square black" onclick="selectPiece('pawn')" data-piece="pawn">♟</div>
            </div>
        </div>

        <div class="interactive-demo">
            <h2>🎮 Interactive Piece Movement Demonstrator</h2>
            <p style="margin-bottom: 20px;">Choose a piece to see how it moves on the board!</p>
            
            <button class="demo-btn" onclick="showMovementDemo('pawn')">♟️ Pawn</button>
            <button class="demo-btn" onclick="showMovementDemo('rook')">♜ Rook</button>
            <button class="demo-btn" onclick="showMovementDemo('knight')">♞ Knight</button>
            <button class="demo-btn" onclick="showMovementDemo('bishop')">♝ Bishop</button>
            <button class="demo-btn" onclick="showMovementDemo('queen')">♛ Queen</button>
            <button class="demo-btn" onclick="showMovementDemo('king')">♚ King</button>
            
            <div id="movementBoard" class="movement-board" style="display: none; margin-top: 20px;">
                <!-- Movement demonstration board will be generated here -->
            </div>
            
            <p id="movementDescription" style="margin-top: 15px; font-weight: bold; color: #2d3436;"></p>
        </div>

        <div class="piece-grid">
            <!-- Pawn Card -->
            <div class="piece-card" id="pawn-card">
                <div class="piece-header">
                    <span class="piece-emoji">♟️</span>
                    <h3 class="piece-name">The Brave Pawn</h3>
                    <p class="piece-subtitle">"The Foot Soldier"</p>
                </div>
                
                <div class="piece-stats">
                    <div class="stat">
                        <div class="stat-label">Power Level</div>
                        <div class="stat-value">⭐⭐</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">You Have</div>
                        <div class="stat-value">8 Pawns</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Points</div>
                        <div class="stat-value">1 Point</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Special Power</div>
                        <div class="stat-value">Promotion!</div>
                    </div>
                </div>
                
                <div class="piece-story">
                    <h4>🏰 The Pawn's Story</h4>
                    <p>Pawns are like brave foot soldiers marching into battle! They may seem small, but they're the backbone of your army. Every great chess player knows: "Pawns are the soul of chess!"</p>
                </div>
                
                <div class="special-abilities">
                    <h4>⚡ Special Powers</h4>
                    <ul class="ability-list">
                        <li>Can move 2 squares on first move</li>
                        <li>Captures diagonally forward</li>
                        <li>En passant special capture</li>
                        <li>Promotes to any piece at the end!</li>
                    </ul>
                </div>
                
                <div class="movement-demo">
                    <h4>🚀 How I Move</h4>
                    <p>Forward one square, or two on my first move. I capture diagonally!</p>
                </div>
            </div>

            <!-- Rook Card -->
            <div class="piece-card" id="rook-card">
                <div class="piece-header">
                    <span class="piece-emoji">♜</span>
                    <h3 class="piece-name">The Mighty Rook</h3>
                    <p class="piece-subtitle">"The Castle Tower"</p>
                </div>
                
                <div class="piece-stats">
                    <div class="stat">
                        <div class="stat-label">Power Level</div>
                        <div class="stat-value">⭐⭐⭐⭐</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">You Have</div>
                        <div class="stat-value">2 Rooks</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Points</div>
                        <div class="stat-value">5 Points</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Special Power</div>
                        <div class="stat-value">Castling!</div>
                    </div>
                </div>
                
                <div class="piece-story">
                    <h4>🏰 The Rook's Story</h4>
                    <p>Rooks are like mighty castle towers that can shoot arrows in straight lines! They're your heavy artillery, controlling entire rows and columns of the battlefield.</p>
                </div>
                
                <div class="special-abilities">
                    <h4>⚡ Special Powers</h4>
                    <ul class="ability-list">
                        <li>Moves any distance horizontally</li>
                        <li>Moves any distance vertically</li>
                        <li>Cannot jump over pieces</li>
                        <li>Can castle with the King!</li>
                    </ul>
                </div>
                
                <div class="movement-demo">
                    <h4>🚀 How I Move</h4>
                    <p>I slide in straight lines - up, down, left, right - as far as I want!</p>
                </div>
            </div>

            <!-- Knight Card -->
            <div class="piece-card" id="knight-card">
                <div class="piece-header">
                    <span class="piece-emoji">♞</span>
                    <h3 class="piece-name">The Clever Knight</h3>
                    <p class="piece-subtitle">"The Jumping Horse"</p>
                </div>
                
                <div class="piece-stats">
                    <div class="stat">
                        <div class="stat-label">Power Level</div>
                        <div class="stat-value">⭐⭐⭐</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">You Have</div>
                        <div class="stat-value">2 Knights</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Points</div>
                        <div class="stat-value">3 Points</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Special Power</div>
                        <div class="stat-value">Jumping!</div>
                    </div>
                </div>
                
                <div class="piece-story">
                    <h4>🏰 The Knight's Story</h4>
                    <p>Knights are brave horse riders who can leap over other pieces! They're like magical horses that can appear where enemies least expect them.</p>
                </div>
                
                <div class="special-abilities">
                    <h4>⚡ Special Powers</h4>
                    <ul class="ability-list">
                        <li>Moves in an "L" shape</li>
                        <li>Only piece that can jump!</li>
                        <li>2 squares + 1 square perpendicular</li>
                        <li>Great for surprise attacks!</li>
                    </ul>
                </div>
                
                <div class="movement-demo">
                    <h4>🚀 How I Move</h4>
                    <p>I hop in an L-shape: 2 squares one way, then 1 square to the side!</p>
                </div>
            </div>

            <!-- Bishop Card -->
            <div class="piece-card" id="bishop-card">
                <div class="piece-header">
                    <span class="piece-emoji">♝</span>
                    <h3 class="piece-name">The Wise Bishop</h3>
                    <p class="piece-subtitle">"The Diagonal Wizard"</p>
                </div>
                
                <div class="piece-stats">
                    <div class="stat">
                        <div class="stat-label">Power Level</div>
                        <div class="stat-value">⭐⭐⭐</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">You Have</div>
                        <div class="stat-value">2 Bishops</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Points</div>
                        <div class="stat-value">3 Points</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Special Power</div>
                        <div class="stat-value">Long Diagonals!</div>
                    </div>
                </div>
                
                <div class="piece-story">
                    <h4>🏰 The Bishop's Story</h4>
                    <p>Bishops are like wise wizards who cast spells along diagonal paths! One bishop controls light squares, the other controls dark squares.</p>
                </div>
                
                <div class="special-abilities">
                    <h4>⚡ Special Powers</h4>
                    <ul class="ability-list">
                        <li>Moves diagonally any distance</li>
                        <li>Stays on same color squares</li>
                        <li>Works great in pairs</li>
                        <li>Controls long diagonals!</li>
                    </ul>
                </div>
                
                <div class="movement-demo">
                    <h4>🚀 How I Move</h4>
                    <p>I glide diagonally across the board, always staying on my color!</p>
                </div>
            </div>

            <!-- Queen Card -->
            <div class="piece-card" id="queen-card">
                <div class="piece-header">
                    <span class="piece-emoji">♛</span>
                    <h3 class="piece-name">The Powerful Queen</h3>
                    <p class="piece-subtitle">"The Ultimate Warrior"</p>
                </div>
                
                <div class="piece-stats">
                    <div class="stat">
                        <div class="stat-label">Power Level</div>
                        <div class="stat-value">⭐⭐⭐⭐⭐</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">You Have</div>
                        <div class="stat-value">1 Queen</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Points</div>
                        <div class="stat-value">9 Points</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Special Power</div>
                        <div class="stat-value">Everything!</div>
                    </div>
                </div>
                
                <div class="piece-story">
                    <h4>🏰 The Queen's Story</h4>
                    <p>The Queen is the most powerful piece on the board! She combines the powers of the Rook and Bishop, making her unstoppable in battle!</p>
                </div>
                
                <div class="special-abilities">
                    <h4>⚡ Special Powers</h4>
                    <ul class="ability-list">
                        <li>Moves like a Rook AND Bishop</li>
                        <li>Any direction, any distance</li>
                        <li>Most valuable piece</li>
                        <li>The ultimate game-changer!</li>
                    </ul>
                </div>
                
                <div class="movement-demo">
                    <h4>🚀 How I Move</h4>
                    <p>I can move anywhere - straight lines AND diagonals! I'm unstoppable!</p>
                </div>
            </div>

            <!-- King Card -->
            <div class="piece-card" id="king-card">
                <div class="piece-header">
                    <span class="piece-emoji">♚</span>
                    <h3 class="piece-name">The Important King</h3>
                    <p class="piece-subtitle">"The Heart of the Army"</p>
                </div>
                
                <div class="piece-stats">
                    <div class="stat">
                        <div class="stat-label">Power Level</div>
                        <div class="stat-value">👑 Priceless</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">You Have</div>
                        <div class="stat-value">1 King</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Points</div>
                        <div class="stat-value">∞ Infinite</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Special Power</div>
                        <div class="stat-value">Castling!</div>
                    </div>
                </div>
                
                <div class="piece-story">
                    <h4>🏰 The King's Story</h4>
                    <p>The King is YOU! The most important piece that must be protected at all costs. If the King falls, the battle is lost!</p>
                </div>
                
                <div class="special-abilities">
                    <h4>⚡ Special Powers</h4>
                    <ul class="ability-list">
                        <li>Moves one square any direction</li>
                        <li>Cannot move into danger</li>
                        <li>Can castle for safety</li>
                        <li>The game's ultimate goal!</li>
                    </ul>
                </div>
                
                <div class="movement-demo">
                    <h4>🚀 How I Move</h4>
                    <p>I move carefully, one square at a time in any direction!</p>
                </div>
            </div>
        </div>

        <div class="quiz-section">
            <h2 style="text-align: center; margin-bottom: 25px;">🧠 Piece Knowledge Quiz!</h2>
            
            <div class="quiz-group">
                <div class="quiz-question-text">Question 1: Which piece can jump over other pieces?</div>
                <div class="quiz-option" onclick="checkQuiz(this, true, 1)">A) The Knight ♞</div>
                <div class="quiz-option" onclick="checkQuiz(this, false, 1)">B) The Queen ♛</div>
            </div>
            
            <div class="quiz-group">
                <div class="quiz-question-text">Question 2: How many pawns does each player start with?</div>
                <div class="quiz-option" onclick="checkQuiz(this, true, 2)">A) 8 pawns</div>
                <div class="quiz-option" onclick="checkQuiz(this, false, 2)">B) 6 pawns</div>
            </div>
            
            <div class="quiz-group">
                <div class="quiz-question-text">Question 3: Which piece is the most powerful?</div>
                <div class="quiz-option" onclick="checkQuiz(this, false, 3)">A) The King ♚</div>
                <div class="quiz-option" onclick="checkQuiz(this, true, 3)">B) The Queen ♛</div>
            </div>
            
            <div class="quiz-group">
                <div class="quiz-question-text">Question 4: Which pieces move diagonally?</div>
                <div class="quiz-option" onclick="checkQuiz(this, true, 4)">A) Bishops ♝</div>
                <div class="quiz-option" onclick="checkQuiz(this, false, 4)">B) Rooks ♜</div>
            </div>
            
            <div class="quiz-group">
                <div class="quiz-question-text">Question 5: How many squares can a King move at a time?</div>
                <div class="quiz-option" onclick="checkQuiz(this, true, 5)">A) One square</div>
                <div class="quiz-option" onclick="checkQuiz(this, false, 5)">B) Any number of squares</div>
            </div>
            
            <div class="quiz-group">
                <div class="quiz-question-text">Question 6: What happens when a pawn reaches the end of the board?</div>
                <div class="quiz-option" onclick="checkQuiz(this, true, 6)">A) It can promote to any piece (except King)</div>
                <div class="quiz-option" onclick="checkQuiz(this, false, 6)">B) It just stays there as a pawn</div>
            </div>
        </div>

        <div class="celebration" id="celebration"></div>

        <div style="text-align: center; margin: 30px 0;">
            <button onclick="completePieces()" class="back-btn" style="font-size: 1.2em; padding: 20px 35px;">
                ✅ I Know All My Chess Pieces!
            </button>
        </div>
    </div>

    <script>
        let selectedPiece = null;
        let piecesLearned = new Set();
        let questionsAnswered = new Set();
        let movementsDemonstrated = new Set();

        const pieceMovements = {
            pawn: {
                description: "Pawns move forward one square, or two on their first move. They capture diagonally forward!",
                startPos: [6, 3], // row 6, column 3 (d2)
                moves: [[5, 3], [4, 3]], // Can move 1 or 2 squares forward
                captures: [[5, 2], [5, 4]] // Diagonal captures
            },
            rook: {
                description: "Rooks move any number of squares horizontally or vertically!",
                startPos: [4, 4], // Center of board (e4)
                moves: [
                    [4, 0], [4, 1], [4, 2], [4, 3], [4, 5], [4, 6], [4, 7], // Horizontal
                    [0, 4], [1, 4], [2, 4], [3, 4], [5, 4], [6, 4], [7, 4]  // Vertical
                ]
            },
            knight: {
                description: "Knights move in an L-shape: 2 squares one way, then 1 square perpendicular!",
                startPos: [4, 4], // Center of board (e4)
                moves: [
                    [2, 3], [2, 5], [3, 2], [3, 6], [5, 2], [5, 6], [6, 3], [6, 5]
                ]
            },
            bishop: {
                description: "Bishops move any number of squares diagonally!",
                startPos: [4, 4], // Center of board (e4)
                moves: [
                    [0, 0], [1, 1], [2, 2], [3, 3], [5, 5], [6, 6], [7, 7], // Main diagonal
                    [1, 7], [2, 6], [3, 5], [5, 3], [6, 2], [7, 1] // Anti-diagonal
                ]
            },
            queen: {
                description: "Queens combine Rook and Bishop powers - any direction, any distance!",
                startPos: [4, 4], // Center of board (e4)
                moves: [
                    // Horizontal and vertical (like rook)
                    [4, 0], [4, 1], [4, 2], [4, 3], [4, 5], [4, 6], [4, 7],
                    [0, 4], [1, 4], [2, 4], [3, 4], [5, 4], [6, 4], [7, 4],
                    // Diagonal (like bishop)
                    [0, 0], [1, 1], [2, 2], [3, 3], [5, 5], [6, 6], [7, 7],
                    [1, 7], [2, 6], [3, 5], [5, 3], [6, 2], [7, 1]
                ]
            },
            king: {
                description: "Kings move one square in any direction - slow but steady!",
                startPos: [4, 4], // Center of board (e4)
                moves: [
                    [3, 3], [3, 4], [3, 5], [4, 3], [4, 5], [5, 3], [5, 4], [5, 5]
                ]
            }
        };

        function goBack() {
            window.history.back();
        }

        function selectPiece(pieceName) {
            // Highlight the selected piece
            document.querySelectorAll('.formation-square').forEach(square => {
                square.style.border = 'none';
            });
            
            document.querySelectorAll(`[data-piece="${pieceName}"]`).forEach(square => {
                square.style.border = '3px solid #ff6b6b';
            });
            
            // Highlight the piece card
            document.querySelectorAll('.piece-card').forEach(card => {
                card.classList.remove('active');
            });
            
            const card = document.getElementById(`${pieceName}-card`);
            if (card) {
                card.classList.add('active');
                card.scrollIntoView({ behavior: 'smooth' });
            }
            
            piecesLearned.add(pieceName);
            selectedPiece = pieceName;
            
            showCelebration(`🎯 Learning about the ${pieceName}! Click around to discover more!`);
        }

        function showMovementDemo(pieceName) {
            movementsDemonstrated.add(pieceName);
            
            // Update button states
            document.querySelectorAll('.demo-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            const board = document.getElementById('movementBoard');
            const description = document.getElementById('movementDescription');
            
            board.style.display = 'grid';
            board.innerHTML = '';
            
            const movement = pieceMovements[pieceName];
            description.textContent = movement.description;
            
            // Create the 8x8 demonstration board
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const square = document.createElement('div');
                    square.className = `mini-square ${(row + col) % 2 === 0 ? 'black' : 'white'}`;
                    
                    // Check if this is the piece position
                    if (movement.startPos && movement.startPos[0] === row && movement.startPos[1] === col) {
                        square.textContent = getPieceSymbol(pieceName);
                        square.classList.add('piece-position');
                    }
                    
                    // Check if this is a valid move
                    const isMove = movement.moves && movement.moves.some(move => move[0] === row && move[1] === col);
                    const isCapture = movement.captures && movement.captures.some(cap => cap[0] === row && cap[1] === col);
                    
                    if (isMove || isCapture) {
                        square.classList.add('highlight');
                        square.textContent = isCapture ? '×' : '•';
                    }
                    
                    board.appendChild(square);
                }
            }
            
            showCelebration(`🚀 Watch how the ${pieceName} moves!`);
        }

        function getPieceSymbol(pieceName) {
            const symbols = {
                pawn: '♟',
                rook: '♜',
                knight: '♞',
                bishop: '♝',
                queen: '♛',
                king: '♚'
            };
            return symbols[pieceName];
        }

        function checkQuiz(element, isCorrect, questionNumber) {
            // Check if this question has already been answered
            if (questionsAnswered.has(questionNumber)) {
                return;
            }
            
            // Mark question as answered
            questionsAnswered.add(questionNumber);
            
            // Find all options in this question group and disable them
            const questionGroup = element.parentElement;
            const allOptions = questionGroup.querySelectorAll('.quiz-option');
            
            allOptions.forEach(option => {
                option.classList.add('disabled');
            });
            
            if (isCorrect) {
                element.classList.add('correct');
                element.innerHTML += '<div style="margin-top: 10px; color: #28a745; font-weight: bold;">✅ Correct! Excellent!</div>';
                showCelebration('🎉 Right answer! You\'re becoming a chess expert!');
                
                // Mark other options as incorrect visually
                allOptions.forEach(option => {
                    if (option !== element) {
                        option.classList.add('incorrect');
                        option.style.opacity = '0.5';
                    }
                });
            } else {
                element.classList.add('incorrect');
                element.innerHTML += '<div style="margin-top: 10px; color: #dc3545; font-weight: bold;">❌ Not quite! Keep learning!</div>';
                
                // Highlight the correct answer
                allOptions.forEach(option => {
                    if (option !== element) {
                        option.classList.add('correct');
                        option.innerHTML += '<div style="margin-top: 10px; color: #28a745; font-weight: bold;">✅ This was the correct answer!</div>';
                    }
                });
            }
        }

        function completePieces() {
            const totalItems = 6 + 6 + 6; // pieces learned + movements demonstrated + questions answered
            const completedItems = piecesLearned.size + movementsDemonstrated.size + questionsAnswered.size;
            
            if (completedItems >= totalItems * 0.7) { // 70% completion
                showCelebration('🏆 Amazing! You\'ve mastered the chess pieces! Ready for the next adventure?');
                
                // Add confetti effect
                for (let i = 0; i < 50; i++) {
                    createConfetti();
                }
                
                setTimeout(() => {
                    if (confirm('🎯 Ready to learn about the chessboard? Click OK to continue your journey!')) {
                        alert('🚀 Great! In a real chess app, this would take you to learn about the chessboard!');
                    }
                }, 2000);
            } else {
                showCelebration('📚 Explore more pieces and try the movement demos to become a true expert!');
            }
        }

        function showCelebration(message) {
            const celebration = document.getElementById('celebration');
            celebration.textContent = message;
            celebration.classList.add('show');
            
            setTimeout(() => {
                celebration.classList.remove('show');
            }, 4000);
        }

        function createConfetti() {
            const pieces = ['♟️', '♜', '♞', '♝', '♛', '♚', '🎉', '🎊', '⭐'];
            const confetti = document.createElement('div');
            confetti.textContent = pieces[Math.floor(Math.random() * pieces.length)];
            confetti.style.position = 'fixed';
            confetti.style.fontSize = '25px';
            confetti.style.left = Math.random() * window.innerWidth + 'px';
            confetti.style.top = '-50px';
            confetti.style.zIndex = '1000';
            confetti.style.pointerEvents = 'none';
            
            document.body.appendChild(confetti);
            
            const animation = confetti.animate([
                { transform: 'translateY(-50px) rotate(0deg)', opacity: 1 },
                { transform: `translateY(${window.innerHeight + 50}px) rotate(360deg)`, opacity: 0 }
            ], {
                duration: 2000 + Math.random() * 1000,
                easing: 'ease-out'
            });
            
            animation.onfinish = () => {
                confetti.remove();
            };
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            showCelebration('♟️ Welcome to your Royal Army! Click on pieces to learn about them!');
        });
    </script>
<script src="progress.min.js"></script>
</body>
</html>